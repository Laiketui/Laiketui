(function (win, doc, $) {    $.fn.extend({        checktree : function () {            this.click(function (evt) {                var evtEle = $(evt.target).closest("input:checkbox");                if (!evtEle[0]) {                    return;                }                // check child all 检查所有儿子                if (evtEle.is("input:checked")) {                    evtEle.parent().next(".checks").find("input:checkbox").attr("checked", evtEle[0].checked);                    evtEle.parent().next(".checks").find("input:checkbox").prop("checked", true);                }else{                    evtEle.parent().next(".checks").find("input:checkbox").attr("checked", false);                }                // check parent 检查父                if (evtEle.is("input:checked")) {                    evtEle.parents(".checks").prev().children("input:checkbox").prop("checked", true);                    evtEle.parents(".checks").prev().children("input:checkbox").attr("checked","checked");                    $(evt.target).attr("checked","checked");                    evtEle.parents(".checks").each(function () {                        !$(this).children("p").children("input:checkbox").filter(function () {                            return !this.checked;                        })[0] && $(this).parent().children("input:checkbox").attr("checked", "checked");                });                } else {                    $(evt.target).attr("checked",false);                    evtEle.parents(".checks").prev().children("input:checkbox").attr("checked", false);                }            });        }    });})(window, document, jQuery);